#!/usr/bin/env python3

import platform
import subprocess
import os

def install_requirements():
    system = platform.system().lower()
    
    # Base
    subprocess.check_call(["pip", "install", "-r", "requirements/base.txt"])
    
    # Platform-specific
    if system == "windows":
        subprocess.check_call(["pip", "install", "-r", "requirements/windows.txt"])
    elif system == "linux":
        subprocess.check_call(["pip", "install", "-r", "requirements/linux.txt"])
    elif system == "darwin":  # macOS
        subprocess.check_call(["pip", "install", "-r", "requirements/macos.txt"])
    
    # Development
    if os.getenv("INSTALL_DEV", "false").lower() == "true":
        subprocess.check_call(["pip", "install", "-r", "requirements/dev.txt"])
    
    # Docker
    if os.getenv("INSTALL_DOCKER", "false").lower() == "true":
        subprocess.check_call(["pip", "install", "-r", "requirements/docker.txt"])

if __name__ == "__main__":
    install_requirements()