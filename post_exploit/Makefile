CC=gcc
CFLAGS=-Wall

all: priv_esc_tool

priv_esc_tool: main.o priv_esc.o cred_harvest.o cron_persist.o
	$(CC) -o priv_esc_tool main.o priv_esc.o cred_harvest.o cron_persist.o

main.o: /src/main.c
	$(CC) $(CFLAGS) -c ../src/main.c

priv_esc.o: /src/priv_esc.c
	$(CC) $(CFLAGS) -c ../src/priv_esc.c

cred_harvest.o: /src/cred_harvest.c
	$(CC) $(CFLAGS) -c ../src/cred_harvest.c

cron_persist.o: /src/cron_persist.c
	$(CC) $(CFLAGS) -c ../src/cron_persist.c

clean:
	rm -f *.o priv_esc_tool