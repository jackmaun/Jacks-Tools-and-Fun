#include "lznt1.h"

int lznt1_decompress(uint8_t* in, size_t in_len, uint8_t* out, DWORD* out_len) {
    z_stream strm = { 0 };
    strm.next_in = in;
    strm.avail_in = in_len;
    strm.next_out = out;
    strm.avail_out = *out_len;

    if (inflateInit(&strm) != Z_OK) return 0;
    int res = inflate(&strm, Z_FINISH);
    inflateEnd(&strm);

    *out_len = strm.total_out;
    return res == Z_STREAM_END;
}

